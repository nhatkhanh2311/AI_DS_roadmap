# Giai ƒëo·∫°n 3: Thu th·∫≠p v√† Qu·∫£n l√Ω D·ªØ li·ªáu
## B√†i 3.5: Th·∫ø gi·ªõi NoSQL & ·ª®ng d·ª•ng

### **üéØ M·ª•c ti√™u b√†i h·ªçc:**
1.  Hi·ªÉu t·∫°i sao NoSQL ra ƒë·ªùi v√† nh·ªØng v·∫•n ƒë·ªÅ m√† SQL truy·ªÅn th·ªëng x·ª≠ l√Ω kh√¥ng t·ªët.
2.  Ph√¢n bi·ªát c√°c lo·∫°i h√¨nh CSDL NoSQL ph·ªï bi·∫øn: **Document**, **Key-Value**, v√† **Graph**.
3.  N·∫Øm b·∫Øt c√°c tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng ƒëi·ªÉn h√¨nh c·ªßa t·ª´ng lo·∫°i.

---

### **1. T·∫°i sao l·∫°i c·∫ßn NoSQL?**

CSDL Quan h·ªá (SQL) ƒë√£ th·ªëng tr·ªã trong nhi·ªÅu th·∫≠p k·ª∑. N√≥ r·∫•t m·∫°nh m·∫Ω, ƒë√°ng tin c·∫≠y v√† c√≥ c·∫•u tr√∫c ch·∫∑t ch·∫Ω. Tuy nhi√™n, v·ªõi s·ª± b√πng n·ªï c·ªßa Internet v√† d·ªØ li·ªáu l·ªõn, n√≥ b·ªôc l·ªô m·ªôt s·ªë h·∫°n ch·∫ø:

* **Thi·∫øu linh ho·∫°t (Rigid Schema):** C·∫•u tr√∫c c·ªßa c√°c b·∫£ng l√† c·ªë ƒë·ªãnh. Vi·ªác thay ƒë·ªïi (v√≠ d·ª•: th√™m m·ªôt c·ªôt m·ªõi) trong m·ªôt h·ªá th·ªëng l·ªõn c√≥ th·ªÉ r·∫•t ph·ª©c t·∫°p.
* **Kh√≥ m·ªü r·ªông theo chi·ªÅu ngang (Horizontal Scaling):** Khi d·ªØ li·ªáu qu√° l·ªõn, vi·ªác chia nh·ªè m·ªôt CSDL SQL ra nhi·ªÅu server l√† r·∫•t kh√≥.

**NoSQL (Not Only SQL)** l√† m·ªôt thu·∫≠t ng·ªØ bao tr√πm c√°c lo·∫°i CSDL ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ gi·∫£i quy·∫øt nh·ªØng v·∫•n ƒë·ªÅ n√†y. Ch√∫ng th∆∞·ªùng linh ho·∫°t h∆°n, d·ªÖ m·ªü r·ªông h∆°n v√† ph√π h·ª£p h∆°n v·ªõi d·ªØ li·ªáu phi c·∫•u tr√∫c ho·∫∑c b√°n c·∫•u tr√∫c.

---

### **2. C√°c lo·∫°i CSDL NoSQL ph·ªï bi·∫øn**

#### **a. CSDL H∆∞·ªõng t√†i li·ªáu (Document-Oriented)**

* **√ù t∆∞·ªüng:** L∆∞u tr·ªØ d·ªØ li·ªáu d∆∞·ªõi d·∫°ng c√°c "t√†i li·ªáu" (documents), ph·ªï bi·∫øn nh·∫•t l√† ƒë·ªãnh d·∫°ng **JSON** (ho·∫∑c BSON). M·ªói t√†i li·ªáu c√≥ th·ªÉ c√≥ c·∫•u tr√∫c ri√™ng.
* **Analogy:** Gi·ªëng nh∆∞ m·ªôt t·ªß h·ªì s∆° ch·ª©a c√°c file Word. M·ªói file Word (`document`) c√≥ th·ªÉ c√≥ c·∫•u tr√∫c, ti√™u ƒë·ªÅ, v√† n·ªôi dung ri√™ng, kh√¥ng c·∫ßn ph·∫£i tu√¢n theo m·ªôt khu√¥n m·∫´u c·ªë ƒë·ªãnh nh∆∞ c√°c h√†ng trong Excel.
* **V√≠ d·ª• n·ªïi ti·∫øng:** **MongoDB**, CouchDB.
* **Khi n√†o d√πng?**
    * L∆∞u tr·ªØ h·ªì s∆° ng∆∞·ªùi d√πng (m·ªói ng∆∞·ªùi d√πng c√≥ th·ªÉ c√≥ c√°c tr∆∞·ªùng th√¥ng tin kh√°c nhau).
    * Danh m·ª•c s·∫£n ph·∫©m trong c√°c trang th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠.
    * N·ªôi dung t·ª´ c√°c blog, m·∫°ng x√£ h·ªôi.

        // V√≠ d·ª• v·ªÅ m·ªôt document h·ªì s∆° ng∆∞·ªùi d√πng trong MongoDB
        {
            "_id": "user123",
            "name": "An Nguy·ªÖn",
            "email": "an.nguyen@email.com",
            "interests": ["AI", "Data Science", "History"],
            "social_profiles": {
                "linkedin": "/in/annguyen",
                "twitter": "@an_nguyen_ai"
            }
        }

#### **b. CSDL Kh√≥a-Gi√° tr·ªã (Key-Value Stores)**

* **√ù t∆∞·ªüng:** ƒê∆°n gi·∫£n nh·∫•t c√≥ th·ªÉ. D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr·ªØ d∆∞·ªõi d·∫°ng c√°c c·∫∑p `key: value` c·ª±c l·ªõn. B·∫°n ch·ªâ c√≥ th·ªÉ truy v·∫•n d·ªØ li·ªáu th√¥ng qua `key`.
* **Analogy:** Gi·ªëng nh∆∞ m·ªôt ph√≤ng gi·ªØ ƒë·ªì kh·ªïng l·ªì. M·ªói m√≥n ƒë·ªì (`value`) ƒë∆∞·ª£c c·∫•t trong m·ªôt c√°i t·ªß c√≥ m√£ s·ªë duy nh·∫•t (`key`). B·∫°n ch·ªâ c·∫ßn ƒë∆∞a m√£ s·ªë l√† c√≥ th·ªÉ l·∫•y ƒë·ªì ra ngay l·∫≠p t·ª©c.
* **V√≠ d·ª• n·ªïi ti·∫øng:** **Redis**, Amazon DynamoDB.
* **Khi n√†o d√πng?**
    * L∆∞u tr·ªØ cache (b·ªô nh·ªõ ƒë·ªám) cho c√°c trang web ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô truy c·∫≠p.
    * Qu·∫£n l√Ω session c·ªßa ng∆∞·ªùi d√πng.
    * B·∫£ng x·∫øp h·∫°ng trong game th·ªùi gian th·ª±c.

#### **c. CSDL H∆∞·ªõng ƒê·ªì th·ªã (Graph Databases)**

* **√ù t∆∞·ªüng:** ƒê∆∞·ª£c thi·∫øt k·∫ø chuy√™n bi·ªát ƒë·ªÉ l∆∞u tr·ªØ v√† truy v·∫•n c√°c **m·ªëi quan h·ªá**. D·ªØ li·ªáu ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·∫±ng c√°c **ƒê·ªânh (Nodes)** v√† c√°c **C·∫°nh (Edges)** n·ªëi ch√∫ng l·∫°i v·ªõi nhau.
* **Analogy:** Gi·ªëng nh∆∞ m·ªôt m·∫°ng x√£ h·ªôi. M·ªói ng∆∞·ªùi (`Node`) ƒë∆∞·ª£c k·∫øt n·ªëi v·ªõi b·∫°n b√® c·ªßa h·ªç b·∫±ng c√°c m·ªëi quan h·ªá "b·∫°n b√®" (`Edge`).
* **V√≠ d·ª• n·ªïi ti·∫øng:** **Neo4j**, Amazon Neptune.
* **Khi n√†o d√πng?** ƒê√¢y l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω cho c√°c nh√† khoa h·ªçc d·ªØ li·ªáu.
    * Ph√¢n t√≠ch m·∫°ng x√£ h·ªôi (t√¨m ng∆∞·ªùi c√≥ ·∫£nh h∆∞·ªüng, c√°c c·ªông ƒë·ªìng).
    * **H·ªá th·ªëng g·ª£i √Ω** (t√¨m s·∫£n ph·∫©m m√† "b·∫°n c·ªßa b·∫°n" ƒë√£ mua).
    * **Ph√°t hi·ªán gian l·∫≠n** (t√¨m c√°c v√≤ng l·∫∑p giao d·ªãch b·∫•t th∆∞·ªùng).



---

### **3. SQL vs. NoSQL: Ch·ªçn c√°i n√†o?**

ƒê√¢y kh√¥ng ph·∫£i l√† cu·ªôc chi·∫øn "ai t·ªët h∆°n ai". M·ªói lo·∫°i ƒë·ªÅu c√≥ ƒëi·ªÉm m·∫°nh ri√™ng v√† th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng c√πng nhau trong c√°c h·ªá th·ªëng l·ªõn.

| Ti√™u ch√≠             | SQL (v√≠ d·ª•: PostgreSQL)                                                      | NoSQL (v√≠ d·ª•: MongoDB)                                               |
|:---------------------|:-----------------------------------------------------------------------------|:---------------------------------------------------------------------|
| **M√¥ h√¨nh d·ªØ li·ªáu**  | C·∫•u tr√∫c d·∫°ng b·∫£ng, ch·∫∑t ch·∫Ω                                                 | Linh ho·∫°t (JSON, key-value, graph)                                   |
| **T√≠nh nh·∫•t qu√°n**   | R·∫•t cao (ACID)                                                               | Th∆∞·ªùng l√† nh·∫•t qu√°n sau c√πng (Eventual)                              |
| **Kh·∫£ nƒÉng m·ªü r·ªông** | Theo chi·ªÅu d·ªçc (Vertical - n√¢ng c·∫•p server)                                  | Theo chi·ªÅu ngang (Horizontal - th√™m server)                          |
| **Khi n√†o d√πng**     | D·ªØ li·ªáu c√≥ c·∫•u tr√∫c cao, y√™u c·∫ßu giao d·ªãch ch√≠nh x√°c (t√†i ch√≠nh, ng√¢n h√†ng). | D·ªØ li·ªáu l·ªõn, phi c·∫•u tr√∫c, c·∫ßn linh ho·∫°t v√† t·ªëc ƒë·ªô ph√°t tri·ªÉn nhanh. |

---

### **‚úçÔ∏è B√†i th·ª±c h√†nh (L√Ω thuy·∫øt & T∆∞ duy):**

V·ªõi m·ªói t√¨nh hu·ªëng d∆∞·ªõi ƒë√¢y, h√£y l·ª±a ch·ªçn lo·∫°i c∆° s·ªü d·ªØ li·ªáu (CSDL Quan h·ªá-SQL, CSDL T√†i li·ªáu, CSDL Kh√≥a-Gi√° tr·ªã, hay CSDL ƒê·ªì th·ªã) m√† b·∫°n cho l√† ph√π h·ª£p nh·∫•t v√† gi·∫£i th√≠ch ng·∫Øn g·ªçn t·∫°i sao.

1.  **T√¨nh hu·ªëng 1:** X√¢y d·ª±ng h·ªá th·ªëng qu·∫£n l√Ω giao d·ªãch cho m·ªôt ng√¢n h√†ng, l∆∞u tr·ªØ th√¥ng tin t√†i kho·∫£n, s·ªë d∆∞, v√† l·ªãch s·ª≠ chuy·ªÉn ti·ªÅn.

2.  **T√¨nh hu·ªëng 2:** X√¢y d·ª±ng t√≠nh nƒÉng "B·∫°n c√≥ th·ªÉ bi·∫øt" (People You May Know) cho m·ªôt m·∫°ng x√£ h·ªôi, g·ª£i √Ω k·∫øt b·∫°n d·ª±a tr√™n s·ªë l∆∞·ª£ng b·∫°n chung.

3.  **T√¨nh hu·ªëng 3:** L∆∞u tr·ªØ gi·ªè h√†ng c·ªßa h√†ng tri·ªáu ng∆∞·ªùi d√πng tr√™n m·ªôt trang th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ l·ªõn. D·ªØ li·ªáu c·∫ßn ƒë∆∞·ª£c truy xu·∫•t c·ª±c nhanh.

4.  **T√¨nh hu·ªëng 4:** X√¢y d·ª±ng m·ªôt trang blog, n∆°i m·ªói b√†i vi·∫øt c√≥ ti√™u ƒë·ªÅ, n·ªôi dung, t√°c gi·∫£, ng√†y ƒëƒÉng, v√† m·ªôt danh s√°ch c√°c "tag" (th·∫ª) v·ªõi s·ªë l∆∞·ª£ng kh√¥ng c·ªë ƒë·ªãnh.