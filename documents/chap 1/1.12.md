# Giai Ä‘oáº¡n 1: Ná»n táº£ng Python & Láº­p trÃ¬nh
## BÃ i 1.12: Nháº­p mÃ´n Quy hoáº¡ch Ä‘á»™ng (Dynamic Programming - DP)

### **ğŸ¯ Má»¥c tiÃªu bÃ i há»c:**
1.  Hiá»ƒu Ä‘Æ°á»£c váº¥n Ä‘á» cá»‘t lÃµi mÃ  Quy hoáº¡ch Ä‘á»™ng giáº£i quyáº¿t: **bÃ i toÃ¡n con gá»‘i nhau**.
2.  Náº¯m vá»¯ng hai phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n chÃ­nh cá»§a DP: **Top-down (Memoization)** vÃ  **Bottom-up (Tabulation)**.
3.  Ãp dá»¥ng tÆ° duy DP Ä‘á»ƒ giáº£i quyáº¿t má»™t bÃ i toÃ¡n kinh Ä‘iá»ƒn.

---

### **1. Váº¥n Ä‘á»: Sá»± BÃ¹ng ná»• cá»§a Äá»‡ quy**

HÃ£y xem láº¡i bÃ i toÃ¡n tÃ­nh sá»‘ Fibonacci thá»© `n` báº±ng Ä‘á»‡ quy thÃ´ng thÆ°á»ng:

    def fibonacci_recursive(n):
        if n <= 1:
            return n
        return fibonacci_recursive(n-1) + fibonacci_recursive(n-2)

Thuáº­t toÃ¡n nÃ y trÃ´ng ráº¥t thanh lá»‹ch, nhÆ°ng nÃ³ cá»±c ká»³ khÃ´ng hiá»‡u quáº£. HÃ£y xem cÃ¢y cÃ¡c lá»i gá»i hÃ m khi tÃ­nh `fibonacci_recursive(5)`:



Báº¡n cÃ³ thá»ƒ tháº¥y ráº±ng `fib(3)` Ä‘Æ°á»£c tÃ­nh 2 láº§n, `fib(2)` Ä‘Æ°á»£c tÃ­nh 3 láº§n, v.v. CÃ ng xuá»‘ng sÃ¢u, sá»‘ láº§n tÃ­nh toÃ¡n láº·p láº¡i cÃ ng nhiá»u. ÄÃ¢y Ä‘Æ°á»£c gá»i lÃ  váº¥n Ä‘á» **bÃ i toÃ¡n con gá»‘i nhau (Overlapping Subproblems)**. Äá»™ phá»©c táº¡p cá»§a thuáº­t toÃ¡n nÃ y lÃ  $O(2^n)$, cá»±c ká»³ tá»‡.

---

### **2. Quy hoáº¡ch Ä‘á»™ng: "Äá»«ng giáº£i cÃ¹ng má»™t bÃ i toÃ¡n hai láº§n" ğŸ¤”**

Quy hoáº¡ch Ä‘á»™ng (DP) lÃ  má»™t ká»¹ thuáº­t tá»‘i Æ°u hÃ³a báº±ng cÃ¡ch **lÆ°u láº¡i káº¿t quáº£ cá»§a cÃ¡c bÃ i toÃ¡n con** Ä‘á»ƒ sá»­ dá»¥ng láº¡i sau nÃ y thay vÃ¬ pháº£i tÃ­nh toÃ¡n láº¡i tá»« Ä‘áº§u.

Äá»ƒ má»™t bÃ i toÃ¡n cÃ³ thá»ƒ giáº£i Ä‘Æ°á»£c báº±ng DP, nÃ³ cáº§n cÃ³ hai thuá»™c tÃ­nh:
1.  **BÃ i toÃ¡n con gá»‘i nhau (Overlapping Subproblems):** NhÆ° vÃ­ dá»¥ Fibonacci á»Ÿ trÃªn.
2.  **Cáº¥u trÃºc con tá»‘i Æ°u (Optimal Substructure):** Lá»i giáº£i tá»‘i Æ°u cho bÃ i toÃ¡n lá»›n cÃ³ thá»ƒ Ä‘Æ°á»£c xÃ¢y dá»±ng tá»« lá»i giáº£i tá»‘i Æ°u cá»§a cÃ¡c bÃ i toÃ¡n con.

CÃ³ hai cÃ¡ch chÃ­nh Ä‘á»ƒ triá»ƒn khai DP:

---

### **3. CÃ¡ch 1: Top-down vá»›i Ghi nhá»› (Memoization)**

ÄÃ¢y lÃ  cÃ¡ch tiáº¿p cáº­n trá»±c quan nháº¥t. ChÃºng ta váº«n giá»¯ nguyÃªn cáº¥u trÃºc Ä‘á»‡ quy "tá»« trÃªn xuá»‘ng" (top-down) nhÆ°ng thÃªm vÃ o má»™t "bá»™ nhá»› Ä‘á»‡m" (cache), thÆ°á»ng lÃ  má»™t dictionary hoáº·c list, Ä‘á»ƒ lÆ°u káº¿t quáº£.

* **Logic:** TrÆ°á»›c khi tÃ­nh má»™t bÃ i toÃ¡n con, hÃ£y kiá»ƒm tra xem nÃ³ Ä‘Ã£ cÃ³ trong cache chÆ°a.
    * Náº¿u cÃ³, láº¥y káº¿t quáº£ ra dÃ¹ng luÃ´n.
    * Náº¿u chÆ°a, hÃ£y tÃ­nh nÃ³, **lÆ°u vÃ o cache**, rá»“i tráº£ vá» káº¿t quáº£.


    # DÃ¹ng má»™t dictionary lÃ m cache
    memo_cache = {}

    def fib_memoization(n):
        """TÃ­nh Fibonacci báº±ng Ä‘á»‡ quy cÃ³ ghi nhá»›."""
        # Náº¿u káº¿t quáº£ Ä‘Ã£ cÃ³ trong cache, tráº£ vá» luÃ´n
        if n in memo_cache:
            return memo_cache[n]
        
        # Náº¿u khÃ´ng, tÃ­nh toÃ¡n nhÆ° bÃ¬nh thÆ°á»ng
        if n <= 1:
            result = n
        else:
            result = fib_memoization(n-1) + fib_memoization(n-2)
        
        # LÆ°u káº¿t quáº£ vÃ o cache trÆ°á»›c khi tráº£ vá»
        memo_cache[n] = result
        return result

    print(f"Fibonacci(50) dÃ¹ng Memoization: {fib_memoization(50)}")

Vá»›i cÃ¡ch nÃ y, má»—i giÃ¡ trá»‹ `fib(k)` chá»‰ Ä‘Æ°á»£c tÃ­nh Ä‘Ãºng má»™t láº§n. Äá»™ phá»©c táº¡p giáº£m má»™t cÃ¡ch Ä‘Ã¡ng kinh ngáº¡c tá»« $O(2^n)$ xuá»‘ng cÃ²n $O(n)$.

---

### **4. CÃ¡ch 2: Bottom-up vá»›i Báº£ng (Tabulation)**

CÃ¡ch tiáº¿p cáº­n nÃ y loáº¡i bá» hoÃ n toÃ n Ä‘á»‡ quy. ChÃºng ta sáº½ giáº£i bÃ i toÃ¡n "tá»« dÆ°á»›i lÃªn" (bottom-up), báº¯t Ä‘áº§u tá»« nhá»¯ng bÃ i toÃ¡n con nhá» nháº¥t vÃ  xÃ¢y dá»±ng dáº§n lÃªn.

* **Logic:** Táº¡o má»™t cÃ¡i báº£ng (thÆ°á»ng lÃ  má»™t list/array) Ä‘á»ƒ lÆ°u káº¿t quáº£. Äiá»n vÃ o báº£ng tuáº§n tá»± tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i.


    def fib_tabulation(n):
        """TÃ­nh Fibonacci báº±ng phÆ°Æ¡ng phÃ¡p báº£ng."""
        if n <= 1:
            return n
        
        # Táº¡o má»™t báº£ng Ä‘á»ƒ lÆ°u cÃ¡c káº¿t quáº£ tá»« fib(0) Ä‘áº¿n fib(n)
        dp_table = [0] * (n + 1)
        dp_table[1] = 1
        
        # Tuáº§n tá»± Ä‘iá»n vÃ o báº£ng
        for i in range(2, n + 1):
            dp_table[i] = dp_table[i-1] + dp_table[i-2]
            
        return dp_table[n]

    print(f"Fibonacci(50) dÃ¹ng Tabulation: {fib_tabulation(50)}")

CÃ¡ch nÃ y cÅ©ng cÃ³ Ä‘á»™ phá»©c táº¡p lÃ  $O(n)$. Trong thá»±c táº¿, nÃ³ thÆ°á»ng nhanh hÆ¡n má»™t chÃºt so vá»›i Memoization vÃ¬ khÃ´ng cÃ³ chi phÃ­ cho cÃ¡c lá»i gá»i hÃ m Ä‘á»‡ quy.

---

### **âœï¸ BÃ i thá»±c hÃ nh:**

**BÃ i toÃ¡n "Leo cáº§u thang" (Climbing Stairs):**

Báº¡n Ä‘ang leo má»™t chiáº¿c cáº§u thang cÃ³ `n` báº­c. Má»—i láº§n, báº¡n chá»‰ cÃ³ thá»ƒ leo `1` hoáº·c `2` báº­c. Há»i cÃ³ tá»•ng cá»™ng bao nhiÃªu cÃ¡ch khÃ¡c nhau Ä‘á»ƒ báº¡n cÃ³ thá»ƒ leo lÃªn Ä‘áº¿n Ä‘á»‰nh?

* **VÃ­ dá»¥:**
    * `n = 2`: cÃ³ 2 cÃ¡ch (1+1, 2)
    * `n = 3`: cÃ³ 3 cÃ¡ch (1+1+1, 1+2, 2+1)

**YÃªu cáº§u:**

1.  **TÃ¬m cÃ´ng thá»©c truy há»“i:** HÃ£y suy nghÄ© xem sá»‘ cÃ¡ch Ä‘á»ƒ leo lÃªn báº­c thá»© `n` (`ways(n)`) cÃ³ liÃªn quan nhÆ° tháº¿ nÃ o Ä‘áº¿n `ways(n-1)` vÃ  `ways(n-2)`. Báº¡n sáº½ tháº¥y má»™t sá»± tÆ°Æ¡ng Ä‘á»“ng quen thuá»™c.
2.  Viáº¿t má»™t hÃ m `climb_stairs(n)` Ä‘á»ƒ giáº£i bÃ i toÃ¡n nÃ y báº±ng cáº£ hai phÆ°Æ¡ng phÃ¡p: **Memoization** vÃ  **Tabulation**.