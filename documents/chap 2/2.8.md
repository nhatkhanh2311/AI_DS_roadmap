# Giai Ä‘oáº¡n 2: Ná»n táº£ng ToÃ¡n & Thá»‘ng kÃª
## BÃ i 2.8 (PhiÃªn báº£n lÃ m láº¡i): Thá»‘ng kÃª mÃ´ táº£ & Trá»±c quan hÃ³a Dá»¯ liá»‡u

### **ğŸ¯ Má»¥c tiÃªu bÃ i há»c:**
1.  Hiá»ƒu vÃ  tÃ­nh toÃ¡n cÃ¡c Ä‘áº¡i lÆ°á»£ng thá»‘ng kÃª mÃ´ táº£ cá»‘t lÃµi.
2.  Náº¯m vá»¯ng cÃ¡ch Ä‘á»c vÃ  phÃ¢n tÃ­ch cÃ¡c biá»ƒu Ä‘á»“ thá»‘ng kÃª phá»• biáº¿n nháº¥t (Histogram, Box Plot, Scatter Plot, Heatmap).
3.  Sá»­ dá»¥ng thÆ° viá»‡n Seaborn Ä‘á»ƒ táº¡o ra cÃ¡c biá»ƒu Ä‘á»“ nÃ y má»™t cÃ¡ch hiá»‡u quáº£.

---

### **1. Thá»‘ng kÃª mÃ´ táº£ - CÃ¡c Con sá»‘ Biáº¿t nÃ³i**

Thá»‘ng kÃª mÃ´ táº£ giÃºp chÃºng ta tÃ³m táº¯t vÃ  hiá»ƒu cÃ¡c Ä‘áº·c Ä‘iá»ƒm chÃ­nh cá»§a dá»¯ liá»‡u thÃ´ng qua cÃ¡c con sá»‘.

#### **a. ThÆ°á»›c Ä‘o Khuynh hÆ°á»›ng Trung tÃ¢m (GiÃ¡ trá»‹ "Ä‘iá»ƒn hÃ¬nh")**

* **Trung bÃ¬nh cá»™ng (Mean):** Tá»•ng cÃ¡c giÃ¡ trá»‹ chia cho sá»‘ lÆ°á»£ng. Nháº¡y cáº£m vá»›i giÃ¡ trá»‹ ngoáº¡i lai.
* **Trung vá»‹ (Median):** GiÃ¡ trá»‹ náº±m chÃ­nh giá»¯a cá»§a má»™t danh sÃ¡ch Ä‘Ã£ sáº¯p xáº¿p. KhÃ´ng bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi giÃ¡ trá»‹ ngoáº¡i lai.

#### **b. ThÆ°á»›c Ä‘o Äá»™ phÃ¢n tÃ¡n (Dá»¯ liá»‡u "tráº£i rá»™ng" ra sao)**

* **PhÆ°Æ¡ng sai (Variance):** LÃ  "trung bÃ¬nh cá»§a cÃ¡c bÃ¬nh phÆ°Æ¡ng khoáº£ng cÃ¡ch" tá»« má»—i Ä‘iá»ƒm dá»¯ liá»‡u Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh. ÄÆ¡n vá»‹ cá»§a nÃ³ bá»‹ bÃ¬nh phÆ°Æ¡ng lÃªn, nÃªn khÃ³ diá»…n giáº£i.
    * CÃ´ng thá»©c máº«u: $s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}$

* **Äá»™ lá»‡ch chuáº©n (Standard Deviation):** LÃ  cÄƒn báº­c hai cá»§a phÆ°Æ¡ng sai. NÃ³ cÃ³ cÃ¹ng Ä‘Æ¡n vá»‹ vá»›i dá»¯ liá»‡u gá»‘c vÃ  cho biáº¿t, má»™t cÃ¡ch trung bÃ¬nh, má»—i Ä‘iá»ƒm dá»¯ liá»‡u cÃ¡ch giÃ¡ trá»‹ trung bÃ¬nh bao xa.
    * $\sigma = \sqrt{\text{PhÆ°Æ¡ng sai}}$

* **Tá»© phÃ¢n vá»‹ (Quartiles) & Khoáº£ng Tá»© phÃ¢n vá»‹ (IQR):**
    * Tá»© phÃ¢n vá»‹ lÃ  cÃ¡c Ä‘iá»ƒm chia dá»¯ liá»‡u Ä‘Ã£ sáº¯p xáº¿p thÃ nh 4 pháº§n báº±ng nhau.
        * **Q1:** 25% dá»¯ liá»‡u nhá» hÆ¡n nÃ³.
        * **Q2:** 50% dá»¯ liá»‡u nhá» hÆ¡n nÃ³ (chÃ­nh lÃ  **Trung vá»‹**).
        * **Q3:** 75% dá»¯ liá»‡u nhá» hÆ¡n nÃ³.
    * **IQR = Q3 - Q1**. ÄÃ¢y lÃ  khoáº£ng chá»©a 50% dá»¯ liá»‡u á»Ÿ giá»¯a, má»™t thÆ°á»›c Ä‘o Ä‘á»™ phÃ¢n tÃ¡n ráº¥t há»¯u Ã­ch vÃ¬ nÃ³ khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi giÃ¡ trá»‹ ngoáº¡i lai.

---

### **2. Trá»±c quan hÃ³a vá»›i Seaborn ğŸ“Š**

BÃ¢y giá», hÃ£y biáº¿n nhá»¯ng con sá»‘ trÃªn thÃ nh hÃ¬nh áº£nh. ChÃºng ta sáº½ dÃ¹ng thÆ° viá»‡n `seaborn` (viáº¿t táº¯t lÃ  `sns`) vÃ  `matplotlib.pyplot` (viáº¿t táº¯t lÃ  `plt`).

    import pandas as pd
    import seaborn as sns
    import matplotlib.pyplot as plt
    import numpy as np

    df = pd.read_csv('titanic.csv')

---

### **3. Histogram: KhÃ¡m phÃ¡ PhÃ¢n phá»‘i cá»§a má»™t Biáº¿n**

* **Má»¥c Ä‘Ã­ch:** Äá»ƒ xem táº§n suáº¥t xuáº¥t hiá»‡n cá»§a cÃ¡c giÃ¡ trá»‹ trong má»™t biáº¿n sá»‘. NÃ³ giÃºp ta tháº¥y Ä‘Æ°á»£c "hÃ¬nh dáº¡ng" cá»§a dá»¯ liá»‡u.


    plt.figure(figsize=(10, 6)) # Táº¡o má»™t khung hÃ¬nh má»›i
    sns.histplot(data=df, x='Age', bins=30, kde=True)
    plt.title('PhÃ¢n phá»‘i Tuá»•i cá»§a HÃ nh khÃ¡ch Titanic')
    plt.xlabel('Tuá»•i')
    plt.ylabel('Sá»‘ lÆ°á»£ng')
    plt.show()

* **CÃ¡ch Ä‘á»c vÃ  PhÃ¢n tÃ­ch:**
    * **Trá»¥c X (HoÃ nh):** LÃ  biáº¿n chÃºng ta Ä‘ang kháº£o sÃ¡t (`Age`).
    * **Trá»¥c Y (Tung):** LÃ  sá»‘ lÆ°á»£ng (táº§n suáº¥t) hÃ nh khÃ¡ch tÆ°Æ¡ng á»©ng vá»›i má»—i khoáº£ng tuá»•i.
    * **CÃ¡c cá»™t:** Má»—i cá»™t Ä‘áº¡i diá»‡n cho má»™t khoáº£ng tuá»•i. Cá»™t cÃ ng cao, sá»‘ lÆ°á»£ng hÃ nh khÃ¡ch trong khoáº£ng tuá»•i Ä‘Ã³ cÃ ng nhiá»u.
    * **ÄÆ°á»ng cong (kde):** LÃ  Ä‘Æ°á»ng Æ°á»›c tÃ­nh máº­t Ä‘á»™, giÃºp lÃ m má»‹n vÃ  nhÃ¬n rÃµ hÆ¡n hÃ¬nh dáº¡ng tá»•ng thá»ƒ cá»§a phÃ¢n phá»‘i.
    * **Insight:** Biá»ƒu Ä‘á»“ cho tháº¥y pháº§n lá»›n hÃ nh khÃ¡ch táº­p trung á»Ÿ Ä‘á»™ tuá»•i 20-40. PhÃ¢n phá»‘i bá»‹ lá»‡ch vá» bÃªn pháº£i, cÃ³ Ã­t ngÆ°á»i lá»›n tuá»•i hÆ¡n.

---

### **4. Box Plot: So sÃ¡nh PhÃ¢n phá»‘i giá»¯a cÃ¡c NhÃ³m**

* **Má»¥c Ä‘Ã­ch:** So sÃ¡nh sá»± phÃ¢n phá»‘i cá»§a má»™t biáº¿n sá»‘ (nhÆ° Tuá»•i) qua cÃ¡c nhÃ³m khÃ¡c nhau (nhÆ° Háº¡ng vÃ©).

* **"Giáº£i pháº«u" má»™t Biá»ƒu Ä‘á»“ Há»™p:** TrÆ°á»›c khi phÃ¢n tÃ­ch, hÃ£y hiá»ƒu rÃµ tá»«ng thÃ nh pháº§n. 
    * **CÃ¡i Há»™p (Box):** Chá»©a 50% dá»¯ liá»‡u á»Ÿ giá»¯a.
        * Cáº¡nh dÆ°á»›i lÃ  **Q1**, cáº¡nh trÃªn lÃ  **Q3**. ÄÆ°á»ng giá»¯a lÃ  **Q2 (Trung vá»‹)**.
    * **CÃ¡i RÃ¢u (Whiskers):** Hai Ä‘Æ°á»ng tháº³ng kÃ©o dÃ i tá»« há»™p, cho tháº¥y pháº¡m vi cá»§a dá»¯ liá»‡u "thÃ´ng thÆ°á»ng". ChÃºng kÃ©o dÃ i tá»‘i Ä‘a `1.5 * IQR` tá»« há»™p.
    * **GiÃ¡ trá»‹ Ngoáº¡i lai (Outliers):** CÃ¡c Ä‘iá»ƒm cháº¥m náº±m **bÃªn ngoÃ i** hai Ä‘Æ°á»ng rÃ¢u.


    plt.figure(figsize=(10, 6))
    sns.boxplot(data=df, x='Pclass', y='Age')
    plt.title('PhÃ¢n phá»‘i Tuá»•i theo Tá»«ng Háº¡ng VÃ©')
    plt.xlabel('Háº¡ng vÃ© (Pclass)')
    plt.ylabel('Tuá»•i')
    plt.show()

* **CÃ¡ch Ä‘á»c vÃ  PhÃ¢n tÃ­ch:**
    * ChÃºng ta Ä‘ang so sÃ¡nh 3 biá»ƒu Ä‘á»“ há»™p cá»§a 3 Háº¡ng vÃ© (`Pclass` 1, 2, 3).
    * **So sÃ¡nh Trung vá»‹ (Ä‘Æ°á»ng giá»¯a há»™p):** Trung vá»‹ tuá»•i cá»§a Háº¡ng 1 (~38 tuá»•i) cao hÆ¡n Ä‘Ã¡ng ká»ƒ so vá»›i Háº¡ng 2 (~29) vÃ  Háº¡ng 3 (~24).
    * **So sÃ¡nh Äá»™ phÃ¢n tÃ¡n (chiá»u cao há»™p):** Há»™p cá»§a Háº¡ng 1 cao nháº¥t, cho tháº¥y Ä‘á»™ tuá»•i cá»§a hÃ nh khÃ¡ch á»Ÿ háº¡ng nÃ y Ä‘a dáº¡ng hÆ¡n.
    * **Insight:** HÃ nh khÃ¡ch Ä‘i vÃ© háº¡ng cÃ ng cao thÃ¬ cÃ³ xu hÆ°á»›ng cÃ ng lá»›n tuá»•i.

---

### **5. Scatter Plot: TÃ¬m kiáº¿m Má»‘i quan há»‡**

* **Má»¥c Ä‘Ã­ch:** Xem má»‘i quan há»‡ giá»¯a hai biáº¿n sá»‘ liÃªn tá»¥c.


    plt.figure(figsize=(10, 6))
    sns.scatterplot(data=df, x='Age', y='Fare', hue='Survived')
    plt.title('Má»‘i quan há»‡ giá»¯a Tuá»•i vÃ  GiÃ¡ vÃ©')
    plt.xlabel('Tuá»•i')
    plt.ylabel('GiÃ¡ vÃ© (Fare)')
    plt.show()

* **CÃ¡ch Ä‘á»c vÃ  PhÃ¢n tÃ­ch:**
    * **Má»—i Ä‘iá»ƒm cháº¥m:** LÃ  má»™t hÃ nh khÃ¡ch.
    * **Vá»‹ trÃ­:** Vá»‹ trÃ­ cá»§a Ä‘iá»ƒm cháº¥m Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi `Tuá»•i` (trá»¥c X) vÃ  `GiÃ¡ vÃ©` (trá»¥c Y).
    * **MÃ u sáº¯c (`hue`):** ThÃªm má»™t chiá»u thÃ´ng tin thá»© ba. á» Ä‘Ã¢y, mÃ u sáº¯c cho biáº¿t hÃ nh khÃ¡ch Ä‘Ã³ `Sá»‘ng sÃ³t` (Survived=1) hay `Tá»­ vong` (Survived=0).
    * **Insight:** KhÃ´ng cÃ³ má»‘i quan há»‡ rÃµ rÃ ng giá»¯a Tuá»•i vÃ  GiÃ¡ vÃ©. Tuy nhiÃªn, á»Ÿ vÃ¹ng giÃ¡ vÃ© cao (`Fare > 100`), cÃ¡c Ä‘iá»ƒm mÃ u cam (Sá»‘ng sÃ³t) chiáº¿m Æ°u tháº¿ Ã¡p Ä‘áº£o. Äiá»u nÃ y cho tháº¥y giÃ¡ vÃ© cÃ³ liÃªn quan máº¡nh máº½ Ä‘áº¿n kháº£ nÄƒng sá»‘ng sÃ³t.

---

### **6. Heatmap: Trá»±c quan hÃ³a TÆ°Æ¡ng quan**

* **Má»¥c Ä‘Ã­ch:** Hiá»ƒn thá»‹ ma tráº­n tÆ°Æ¡ng quan Ä‘á»ƒ nhanh chÃ³ng tÃ¬m ra cÃ¡c cáº·p biáº¿n cÃ³ má»‘i quan há»‡ tuyáº¿n tÃ­nh máº¡nh.


    numeric_cols = df.select_dtypes(include=np.number)
    correlation_matrix = numeric_cols.corr()

    plt.figure(figsize=(12, 8))
    sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm', fmt='.2f')
    plt.title('Ma tráº­n TÆ°Æ¡ng quan giá»¯a cÃ¡c Biáº¿n sá»‘')
    plt.show()

* **CÃ¡ch Ä‘á»c vÃ  PhÃ¢n tÃ­ch:**
    * **Má»—i Ã´:** Biá»ƒu thá»‹ há»‡ sá»‘ tÆ°Æ¡ng quan giá»¯a hai biáº¿n (tá»« -1 Ä‘áº¿n 1).
    * **GiÃ¡ trá»‹:**
        * Gáº§n `1` (mÃ u Ä‘á» Ä‘áº­m): TÆ°Æ¡ng quan thuáº­n máº¡nh (biáº¿n nÃ y tÄƒng thÃ¬ biáº¿n kia tÄƒng).
        * Gáº§n `-1` (mÃ u xanh Ä‘áº­m): TÆ°Æ¡ng quan nghá»‹ch máº¡nh (biáº¿n nÃ y tÄƒng thÃ¬ biáº¿n kia giáº£m).
        * Gáº§n `0` (mÃ u nháº¡t): Háº§u nhÆ° khÃ´ng cÃ³ tÆ°Æ¡ng quan tuyáº¿n tÃ­nh.
    * **Insight:** Ta cÃ³ thá»ƒ tháº¥y cáº·p `Pclass` vÃ  `Fare` cÃ³ tÆ°Æ¡ng quan nghá»‹ch khÃ¡ máº¡nh (-0.55), Ä‘iá»u nÃ y há»£p lÃ½: Háº¡ng vÃ© cÃ ng cao (giÃ¡ trá»‹ `Pclass` cÃ ng tháº¥p, 1 < 2 < 3) thÃ¬ giÃ¡ vÃ© (`Fare`) cÃ ng cao.

---

### **âœï¸ BÃ i thá»±c hÃ nh:**

Sá»­ dá»¥ng bá»™ dá»¯ liá»‡u `titanic` vÃ  cÃ¡c thÆ° viá»‡n `pandas`, `seaborn`, `matplotlib`:

1.  **PhÃ¢n tÃ­ch Biáº¿n `Fare` (GiÃ¡ vÃ©):**
    * Váº½ biá»ƒu Ä‘á»“ **Histogram** cho cá»™t `Fare`. Báº¡n cÃ³ nháº­n xÃ©t gÃ¬ vá» phÃ¢n phá»‘i cá»§a nÃ³ khÃ´ng? (NÃ³ cÃ³ Ä‘á»‘i xá»©ng khÃ´ng hay bá»‹ lá»‡ch?)
    * Do giÃ¡ vÃ© bá»‹ lá»‡ch nhiá»u, **Median** hay **Mean** sáº½ lÃ  thÆ°á»›c Ä‘o khuynh hÆ°á»›ng trung tÃ¢m tá»‘t hÆ¡n? Táº¡i sao?

2.  **So sÃ¡nh giá»¯a cÃ¡c Giá»›i tÃ­nh:**
    * Váº½ biá»ƒu Ä‘á»“ **Box Plot** so sÃ¡nh phÃ¢n phá»‘i `Age` (Tuá»•i) giá»¯a `Sex` (Giá»›i tÃ­nh) lÃ  'male' vÃ  'female'.
    * Dá»±a vÃ o biá»ƒu Ä‘á»“, báº¡n cÃ³ nháº­n xÃ©t gÃ¬ vá» sá»± khÃ¡c biá»‡t vá» tuá»•i tÃ¡c giá»¯a hai nhÃ³m khÃ´ng?

3.  **KhÃ¡m phÃ¡ Tá»· lá»‡ Sá»‘ng sÃ³t:**
    * Váº½ biá»ƒu Ä‘á»“ **Count Plot** (`sns.countplot`) Ä‘á»ƒ Ä‘áº¿m sá»‘ ngÆ°á»i `Survived` (0 = Tá»­ vong, 1 = Sá»‘ng sÃ³t) theo tá»«ng `Pclass` (Háº¡ng vÃ©). **Gá»£i Ã½:** dÃ¹ng `x='Pclass'` vÃ  `hue='Survived'`.
    * Biá»ƒu Ä‘á»“ nÃ y cho báº¡n biáº¿t Ä‘iá»u gÃ¬ vá» má»‘i liÃªn há»‡ giá»¯a háº¡ng vÃ© vÃ  cÆ¡ há»™i sá»‘ng sÃ³t?