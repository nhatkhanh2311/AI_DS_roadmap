# Giai Ä‘oáº¡n 1: Ná»n táº£ng Python & Láº­p trÃ¬nh
## BÃ i 1.6: TÆ°Æ¡ng tÃ¡c vá»›i File (File I/O)

### **ğŸ¯ Má»¥c tiÃªu bÃ i há»c:**
1.  Há»c cÃ¡ch **Ä‘á»c (read)** ná»™i dung tá»« cÃ¡c file vÄƒn báº£n.
2.  Há»c cÃ¡ch **ghi (write)** vÃ  **ghi ná»‘i (append)** ná»™i dung vÃ o file.
3.  Hiá»ƒu vÃ  sá»­ dá»¥ng cÃ¢u lá»‡nh `with open()` - cÃ¡ch lÃ m viá»‡c vá»›i file an toÃ n vÃ  Ä‘Æ°á»£c khuyáº¿n khÃ­ch nháº¥t.

---

### **1. CÃ¡ch lÃ m viá»‡c vá»›i File Ä‘Æ°á»£c khuyáº¿n khÃ­ch: `with open()`**

CÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ má»Ÿ má»™t file trong Python lÃ  sá»­ dá»¥ng cÃ¢u lá»‡nh `with`.

    with open('ten_file.txt', 'mode') as file_variable:
        # LÃ m viá»‡c vá»›i file á»Ÿ Ä‘Ã¢y

* **Táº¡i sao nÃªn dÃ¹ng `with`?** NÃ³ Ä‘áº£m báº£o file sáº½ Ä‘Æ°á»£c **tá»± Ä‘á»™ng Ä‘Ã³ng láº¡i** má»™t cÃ¡ch chÃ­nh xÃ¡c sau khi báº¡n lÃ m viá»‡c xong, ngay cáº£ khi cÃ³ lá»—i xáº£y ra trong quÃ¡ trÃ¬nh xá»­ lÃ½. Äiá»u nÃ y giÃºp trÃ¡nh cÃ¡c lá»—i rÃ² rá»‰ tÃ i nguyÃªn.

* **`mode` (cháº¿ Ä‘á»™ má»Ÿ file):** LÃ  má»™t chuá»—i kÃ½ tá»± quy Ä‘á»‹nh cÃ¡ch báº¡n muá»‘n tÆ°Æ¡ng tÃ¡c vá»›i file. CÃ¡c mode phá»• biáº¿n nháº¥t lÃ :
    * `'r'` : **Read** - Má»Ÿ file Ä‘á»ƒ Ä‘á»c (Ä‘Ã¢y lÃ  cháº¿ Ä‘á»™ máº·c Ä‘á»‹nh). BÃ¡o lá»—i náº¿u file khÃ´ng tá»“n táº¡i.
    * `'w'` : **Write** - Má»Ÿ file Ä‘á»ƒ ghi. Náº¿u file Ä‘Ã£ tá»“n táº¡i, **ná»™i dung cÅ© sáº½ bá»‹ xÃ³a hoÃ n toÃ n**. Náº¿u file chÆ°a tá»“n táº¡i, nÃ³ sáº½ Ä‘Æ°á»£c táº¡o má»›i.
    * `'a'` : **Append** - Má»Ÿ file Ä‘á»ƒ ghi ná»‘i. Ná»™i dung má»›i sáº½ Ä‘Æ°á»£c ghi vÃ o **cuá»‘i** file Ä‘Ã£ cÃ³. Náº¿u file chÆ°a tá»“n táº¡i, nÃ³ sáº½ Ä‘Æ°á»£c táº¡o má»›i.

---

### **2. Äá»c ná»™i dung tá»« File (Reading)**

Giáº£ sá»­ chÃºng ta cÃ³ má»™t file tÃªn lÃ  `data.txt` vá»›i ná»™i dung sau:

```text
DÃ²ng Ä‘áº§u tiÃªn.
DÃ²ng thá»© hai.
DÃ²ng cuá»‘i cÃ¹ng.
```

    # Má»Ÿ file data.txt á»Ÿ cháº¿ Ä‘á»™ Ä‘á»c ('r')
    try:
        with open('data.txt', 'r', encoding='utf-8') as f:
            # CÃ¡ch 1: Äá»c toÃ n bá»™ ná»™i dung file vÃ o má»™t chuá»—i duy nháº¥t
            # content = f.read()
            # print(content)
            
            # CÃ¡ch 2: Äá»c file theo tá»«ng dÃ²ng (cÃ¡ch hiá»‡u quáº£ vÃ  phá»• biáº¿n nháº¥t)
            print("Äá»c file theo tá»«ng dÃ²ng:")
            for line in f:
                # .strip() dÃ¹ng Ä‘á»ƒ xÃ³a cÃ¡c khoáº£ng tráº¯ng thá»«a vÃ  kÃ½ tá»± xuá»‘ng dÃ²ng `\n` á»Ÿ Ä‘áº§u vÃ  cuá»‘i dÃ²ng
                print(line.strip())
    except FileNotFoundError:
        print("Lá»—i: KhÃ´ng tÃ¬m tháº¥y file data.txt!")


* **LÆ°u Ã½:** `encoding='utf-8'` ráº¥t quan trá»ng khi lÃ m viá»‡c vá»›i file cÃ³ chá»©a tiáº¿ng Viá»‡t Ä‘á»ƒ Ä‘áº£m báº£o kÃ½ tá»± Ä‘Æ°á»£c Ä‘á»c vÃ  ghi má»™t cÃ¡ch chÃ­nh xÃ¡c.

---

### **3. Ghi ná»™i dung vÃ o File (Writing & Appending)**

#### **a. Cháº¿ Ä‘á»™ `'w'` (Write) - Ghi Ä‘Ã¨**

**Cáº£nh bÃ¡o:** Cháº¿ Ä‘á»™ nÃ y sáº½ xÃ³a sáº¡ch ná»™i dung cÅ© cá»§a file.

    # Má»Ÿ file 'output.txt' á»Ÿ cháº¿ Ä‘á»™ ghi ('w')
    lines_to_write = ["Káº¿t quáº£ phÃ¢n tÃ­ch 1\n", "Káº¿t quáº£ phÃ¢n tÃ­ch 2\n"]

    with open('output.txt', 'w', encoding='utf-8') as f:
        f.write("BÃ¡o cÃ¡o káº¿t quáº£:\n") # Ghi má»™t chuá»—i
        f.writelines(lines_to_write) # Ghi má»™t danh sÃ¡ch cÃ¡c chuá»—i

    print("ÄÃ£ ghi xong vÃ o file output.txt (ghi Ä‘Ã¨).")
    # BÃ¢y giá» hÃ£y má»Ÿ file output.txt Ä‘á»ƒ xem ná»™i dung.

#### **b. Cháº¿ Ä‘á»™ `'a'` (Append) - Ghi ná»‘i**

Cháº¿ Ä‘á»™ nÃ y an toÃ n hÆ¡n, nÃ³ chá»‰ thÃªm ná»™i dung má»›i vÃ o cuá»‘i file.

    # Má»Ÿ láº¡i file 'output.txt' á»Ÿ cháº¿ Ä‘á»™ ghi ná»‘i ('a')
    with open('output.txt', 'a', encoding='utf-8') as f:
        f.write("Bá»• sung káº¿t luáº­n.\n")

    print("ÄÃ£ ghi ná»‘i thÃªm vÃ o file output.txt.")
    # Má»Ÿ láº¡i file output.txt Ä‘á»ƒ tháº¥y dÃ²ng má»›i Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o cuá»‘i.

---

### **4. LÃ m viá»‡c vá»›i cÃ¡c Ä‘á»‹nh dáº¡ng khÃ¡c (CSV, JSON)**

CÃ¡c file `.csv` (dá»¯ liá»‡u dáº¡ng báº£ng) vÃ  `.json` (dá»¯ liá»‡u cÃ³ cáº¥u trÃºc) cÅ©ng lÃ  cÃ¡c file vÄƒn báº£n. Tuy nhiÃªn, Ä‘á»ƒ lÃ m viá»‡c vá»›i chÃºng má»™t cÃ¡ch hiá»‡u quáº£, chÃºng ta sáº½ sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n chuyÃªn dá»¥ng nhÆ° **Pandas** (cho CSV) vÃ  **json** (cho JSON) á»Ÿ cÃ¡c giai Ä‘oáº¡n sau. NguyÃªn táº¯c `open/read/write` váº«n lÃ  ná»n táº£ng.

---

### **âœï¸ BÃ i thá»±c hÃ nh:**

1.  **Viáº¿t vÃ  Bá»• sung Nháº­t kÃ½:**
    * **BÆ°á»›c 1:** Viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh táº¡o ra file `my_diary.txt`. Má»Ÿ file nÃ y á»Ÿ cháº¿ Ä‘á»™ **ghi (`'w'`)** vÃ  ghi vÃ o Ä‘Ã³ 2 dÃ²ng nháº­t kÃ½ cho ngÃ y hÃ´m nay. (Nhá»› thÃªm `\n` Ä‘á»ƒ xuá»‘ng dÃ²ng).
    * **BÆ°á»›c 2:** Viáº¿t tiáº¿p má»™t Ä‘oáº¡n chÆ°Æ¡ng trÃ¬nh khÃ¡c (hoáº·c cháº¡y láº¡i chÆ°Æ¡ng trÃ¬nh), láº§n nÃ y má»Ÿ file `my_diary.txt` á»Ÿ cháº¿ Ä‘á»™ **ghi ná»‘i (`'a'`)** vÃ  ghi thÃªm má»™t dÃ²ng nháº­t kÃ½ ná»¯a.
    * **Má»¥c Ä‘Ã­ch:** Äá»ƒ báº¡n tá»± mÃ¬nh tháº¥y rÃµ sá»± khÃ¡c biá»‡t giá»¯a `'w'` vÃ  `'a'`.

2.  **Äá»c vÃ  PhÃ¢n tÃ­ch File:**
    * Viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh Ä‘á»c file `my_diary.txt` mÃ  báº¡n vá»«a táº¡o.
    * ChÆ°Æ¡ng trÃ¬nh cáº§n Ä‘áº¿m vÃ  in ra mÃ n hÃ¬nh 2 thÃ´ng tin:
        * Tá»•ng sá»‘ dÃ²ng cÃ³ trong file.
        * Tá»•ng sá»‘ tá»« cÃ³ trong toÃ n bá»™ file.
    * **Gá»£i Ã½:** Äá»ƒ Ä‘áº¿m tá»«, báº¡n cÃ³ thá»ƒ Ä‘á»c tá»«ng dÃ²ng, dÃ¹ng hÃ m `.split()` Ä‘á»ƒ tÃ¡ch dÃ²ng Ä‘Ã³ thÃ nh má»™t danh sÃ¡ch cÃ¡c tá»«, rá»“i dÃ¹ng `len()` Ä‘á»ƒ láº¥y sá»‘ lÆ°á»£ng tá»« trong danh sÃ¡ch Ä‘Ã³.